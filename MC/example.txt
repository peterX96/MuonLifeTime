cmake_minimum_required(VERSION 3.20)
#we gave the name for the project
project(toy_mc_proj)
#cpp standard is needed to avoid dtupid errors
set(CMAKE_CXX_STANDARD 17)

#setting variables with info about our library
set(LIB_DIR stuff_lib/)
set(SOURCE_LIB ${LIB_DIR}amplitude.cpp ${LIB_DIR}geometry.cpp)

#create library
add_library(stuff SHARED ${SOURCE_LIB}) 

#main line where we say tat we need an exe file which to be created from .cpp
add_executable(toy_mc toy_mc.cpp)

#we says that toy_mc (which is executable) use our library 'stuff' and ROOT libs. Latter ones given explicitely cuz CMake or ROOT or both stupid af. Also some libs are removed because they raised errors by mpi program in ../
target_link_libraries(toy_mc stuff -lCore -lRIO -lNet -lHist -lGraf -lGraf3d -lGpad -lTree -lTreePlayer -lRint -lPostscript -lMatrix -lPhysics -lMathCore -lThread -pthread -lm -ldl -rdynamic)
